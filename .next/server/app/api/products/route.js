(()=>{var e={};e.id=146,e.ids=[146],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5745:(e,r,t)=>{"use strict";t.d(r,{T:()=>u});var n=t(6037),s=t.n(n);let o=process.env.MONGODB_URI;if(!o)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=globalThis,i=a.mongoose??{conn:null,promise:null};async function u(){return i.conn||(i.promise||(i.promise=s().connect(o).then(e=>e)),i.conn=await i.promise),i.conn}a.mongoose||(a.mongoose=i)},6037:e=>{"use strict";e.exports=require("mongoose")},6410:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>k,routeModule:()=>y,serverHooks:()=>j,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>f});var n={};t.r(n),t.d(n,{GET:()=>v,POST:()=>w});var s=t(6559),o=t(8088),a=t(7719),i=t(2190),u=t(5745),p=t(6037),c=t.n(p);let{Schema:d,models:l,Model:m}=c(),x=new d({name:{type:String,required:!0},description:{type:String},price:{type:Number,required:!0},image:{type:String},createdAt:{type:Date,default:Date.now}}),g=l.Product||c().model("Product",x);async function v(){await (0,u.T)();let e=await g.find({});return i.NextResponse.json(e)}async function w(e){try{let r=await e.json();await (0,u.T)();let t=await g.create(r);return i.NextResponse.json(t,{status:201})}catch{return i.NextResponse.json({error:"Erreur lors de la cr\xe9ation."},{status:500})}}let y=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"/home/korndev/devland/project/nextJS/legrandbazard/src/app/api/products/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:h,workUnitAsyncStorage:f,serverHooks:j}=y;function k(){return(0,a.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[447,580],()=>t(6410));module.exports=n})();